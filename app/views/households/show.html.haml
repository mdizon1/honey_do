.jumbotron.hidden-sm.hidden-xs
  %h1 Welcome to the #{@household.name} household

%ul.nav.nav-tabs{:role => 'tablist'}
  %li.active{:role => 'presentation'} 
    = link_to 'Todo List', '#todos', :id => 'todos-tab', :data => {:toggle => 'tab'}, :role => 'tab'
  %li{:role => 'presentation'}
    = link_to 'Shopping List', '#shopping', :id => 'shopping-tab', :data => {:toggle => 'tab'}, :role => 'tab'

.tab-content
  #todos.tab-pane.fade.in.active{:role => 'tabpanel'}
    #todo-container
  #shopping.tab-pane.fade{:role => 'tabpanel'}
    Going to put the shopping widget here..
    #shopping-container

-# TODO: wrap the javascript in an onload of the page or use $
- content_for :javascripts do
  :javascript
    var global_view
    (function (){
      var todo_view, shopping_view;
      todo_view = new HoneyDo.Views.Todos.CompletableWidgetView({
        el: $("#todo-container"),
        can_administrate_household: #{can?(:administrate, @household)},
        todos: #{@todos.to_json},
        klass: "Completable::Todo",
        title: "Todo"
      });

      shopping_view = new HoneyDo.Views.Todos.CompletableWidgetView({
        el: $("#shopping-container"),
        can_administrate_household: #{can?(:administrate, @household)},
        todos: #{@shopping_list.to_json},
        klass: "Completable::ShoppingItem",
        title: "Shopping item"
      });
    })();
